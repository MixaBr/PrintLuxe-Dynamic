-- Этот скрипт добавляет новые ключи конфигурации в таблицу app_config.
-- Эти ключи используются инструментом knowledgeBaseTool для предоставления
-- полезных ответов, когда информация в базе знаний не найдена.

-- Обратите внимание: ON CONFLICT(key) DO UPDATE гарантирует, что если ключи
-- уже существуют, их значения будут обновлены. Если их нет, они будут созданы.

INSERT INTO public.app_config (key, value, description)
VALUES
    (
        'bot_kb_not_found_generic',
        'К сожалению, я не нашел информации по вашему запросу. Попробуйте переформулировать его или указать производителя. Вот полезные ресурсы:\n{{links}}',
        'Шаблон ответа, когда поиск в БЗ не дал результатов и производитель неизвестен. Переменная {{links}} будет заменена списком ссылок.'
    ),
    (
        'bot_kb_not_found_specific',
        'К сожалению, по вашему запросу для {{manufacturer}} ничего не найдено. Попробуйте поискать на официальном сайте: \n{{link}}',
        'Шаблон ответа, когда поиск в БЗ не дал результатов для известного производителя. {{manufacturer}} и {{link}} будут заменены.'
    ),
    (
        'bot_kb_link_epson',
        'https://epson.sn/',
        'Ссылка на ресурс поддержки для устройств EPSON.'
    ),
    (
        'bot_kb_link_canon',
        'https://ij.manual.canon/ij/webmanual/WebPortal/PTL/ptl-top.html?lng=ru',
        'Ссылка на ресурс поддержки для устройств CANON.'
    ),
    (
        'bot_kb_link_hp',
        'https://support.hp.com/kz-ru',
        'Ссылка на ресурс поддержки для устройств HP.'
    )
ON CONFLICT(key) DO UPDATE
SET
    value = EXCLUDED.value,
    description = EXCLUDED.description;

-- После выполнения этого скрипта, убедитесь, что в админ-панели
-- (Настройки -> Настройки Telegram-бота) появились новые поля.
